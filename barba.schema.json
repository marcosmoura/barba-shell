{
  "$id": "https://raw.githubusercontent.com/marcosmoura/barba-shell/main/barba.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "BarbaConfig",
  "description": "Root configuration structure for Barba Shell.\n\nThis structure is designed to be extended with additional sections\nas new features are added to the application.",
  "type": "object",
  "properties": {
    "bar": {
      "description": "Bar configuration for status bar UI components.\n\nContains settings for weather.\n\nExample:\n```json\n{\n  \"bar\": {\n    \"weather\": {\n      \"visualCrossingApiKey\": \"YOUR_API_KEY\"\n    }\n  }\n}\n```",
      "$ref": "#/$defs/BarConfig",
      "default": {
        "weather": {
          "defaultLocation": "",
          "visualCrossingApiKey": ""
        }
      }
    },
    "keybindings": {
      "description": "Global keyboard keybindings configuration.\n\nThe key is the shortcut string (e.g., \"Command+Control+R\").\nThe value is either a single command string or an array of commands.\n\nExample:\n```json\n{\n  \"keybindings\": {\n    \"Command+Control+R\": \"barba reload\",\n  }\n}\n```",
      "type": "object",
      "additionalProperties": {
        "$ref": "#/$defs/ShortcutCommands"
      },
      "default": {}
    },
    "menuAnywhere": {
      "description": "`MenuAnywhere` configuration.\n\nAllows summoning the current application's menu bar at the cursor position.\n\nExample:\n```json\n{\n  \"menuAnywhere\": {\n    \"enabled\": true,\n    \"modifiers\": [\"control\", \"command\"],\n    \"mouseButton\": \"rightClick\"\n  }\n}\n```",
      "$ref": "#/$defs/MenuAnywhereConfig",
      "default": {
        "enabled": false,
        "modifiers": ["control", "command"],
        "mouseButton": "rightClick"
      }
    },
    "wallpapers": {
      "description": "Desktop wallpaper configuration.\n\nControls dynamic wallpaper rotation, effects, and display.\n\nExample:\n```json\n{\n  \"wallpapers\": {\n    \"path\": \"/path/to/wallpapers\",\n    \"mode\": \"random\",\n    \"interval\": 300,\n    \"radius\": 12,\n    \"blur\": 8\n  }\n}\n```",
      "$ref": "#/$defs/WallpaperConfig",
      "default": {
        "blur": 0,
        "interval": 0,
        "list": [],
        "mode": "random",
        "path": "",
        "radius": 0
      }
    }
  },
  "$defs": {
    "BarConfig": {
      "description": "Bar configuration for the status bar UI components.\n\nContains settings for bar-specific features like weather.\n\nExample:\n```json\n{\n  \"bar\": {\n    \"weather\": {\n      \"visualCrossingApiKey\": \"YOUR_API_KEY\",\n      \"defaultLocation\": \"Prague\"\n    }\n  }\n}\n```",
      "type": "object",
      "properties": {
        "weather": {
          "description": "Weather status bar configuration.",
          "$ref": "#/$defs/WeatherConfig",
          "default": {
            "defaultLocation": "",
            "visualCrossingApiKey": ""
          }
        }
      }
    },
    "MenuAnywhereConfig": {
      "description": "Configuration for the `MenuAnywhere` feature.\n\n`MenuAnywhere` allows you to summon the current application's menu bar\nat any location on screen using a configurable keyboard + mouse trigger.\n\nExample:\n```json\n{\n  \"menuAnywhere\": {\n    \"enabled\": true,\n    \"modifiers\": [\"control\", \"command\"],\n    \"mouseButton\": \"rightClick\"\n  }\n}\n```",
      "type": "object",
      "properties": {
        "enabled": {
          "description": "Whether `MenuAnywhere` is enabled.\nDefault: false",
          "type": "boolean",
          "default": false
        },
        "modifiers": {
          "description": "Keyboard modifiers that must be held when clicking.\nDefault: `[\"control\", \"command\"]`",
          "type": "array",
          "default": ["control", "command"],
          "items": {
            "$ref": "#/$defs/MenuAnywhereModifier"
          }
        },
        "mouseButton": {
          "description": "Mouse button that triggers the menu.\nDefault: `\"rightClick\"`",
          "$ref": "#/$defs/MenuAnywhereMouseButton",
          "default": "rightClick"
        }
      }
    },
    "MenuAnywhereModifier": {
      "description": "Keyboard modifier options for `MenuAnywhere` trigger.",
      "oneOf": [
        {
          "description": "Control key (^).",
          "type": "string",
          "const": "control"
        },
        {
          "description": "Option/Alt key (⌥).",
          "type": "string",
          "const": "option"
        },
        {
          "description": "Command key (⌘).",
          "type": "string",
          "const": "command"
        },
        {
          "description": "Shift key (⇧).",
          "type": "string",
          "const": "shift"
        }
      ]
    },
    "MenuAnywhereMouseButton": {
      "description": "Mouse button options for `MenuAnywhere` trigger.",
      "oneOf": [
        {
          "description": "Trigger on right mouse button click.",
          "type": "string",
          "const": "rightClick"
        },
        {
          "description": "Trigger on middle mouse button click.",
          "type": "string",
          "const": "middleClick"
        }
      ]
    },
    "ShortcutCommands": {
      "description": "Commands to execute for a keyboard shortcut.\n\nCan be either a single command string or an array of commands\nthat will be executed sequentially.",
      "anyOf": [
        {
          "description": "A single command to execute.",
          "type": "string"
        },
        {
          "description": "Multiple commands to execute sequentially (never in parallel).",
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      ]
    },
    "WallpaperConfig": {
      "description": "Wallpaper configuration for dynamic wallpaper management.\n\nExample:\n```json\n{\n  \"wallpapers\": {\n    \"path\": \"/path/to/wallpapers\",\n    \"list\": [\"wallpaper1.jpg\", \"wallpaper2.png\"],\n    \"interval\": 300,\n    \"mode\": \"random\",\n    \"radius\": 10,\n    \"blur\": 5\n  }\n}\n```",
      "type": "object",
      "properties": {
        "blur": {
          "description": "Blur level in pixels for Gaussian blur effect.",
          "type": "integer",
          "format": "uint32",
          "default": 0,
          "minimum": 0
        },
        "interval": {
          "description": "Time in seconds between wallpaper changes.\nIf set to 0, the wallpaper will not change after the initial setting.",
          "type": "integer",
          "format": "uint64",
          "default": 0,
          "minimum": 0
        },
        "list": {
          "description": "List of wallpaper filenames to use.\nIf `path` is specified, this list is ignored.",
          "type": "array",
          "default": [],
          "items": {
            "type": "string"
          }
        },
        "mode": {
          "description": "Wallpaper selection mode: \"random\" or \"sequential\".",
          "$ref": "#/$defs/WallpaperMode",
          "default": "random"
        },
        "path": {
          "description": "Directory containing wallpaper images.\nIf specified, all image files in this directory will be used,\noverriding the `list` field.",
          "type": "string",
          "default": ""
        },
        "radius": {
          "description": "Radius in pixels for rounded corners.",
          "type": "integer",
          "format": "uint32",
          "default": 0,
          "minimum": 0
        }
      }
    },
    "WallpaperMode": {
      "description": "Wallpaper cycling mode.",
      "oneOf": [
        {
          "description": "Select a random wallpaper each time.",
          "type": "string",
          "const": "random"
        },
        {
          "description": "Cycle through wallpapers in order.",
          "type": "string",
          "const": "sequential"
        }
      ]
    },
    "WeatherConfig": {
      "description": "Weather configuration for the status bar.\n\nExample:\n```json\n{\n  \"weather\": {\n    \"visualCrossingApiKey\": \"YOUR_API_KEY\",\n    \"defaultLocation\": \"Prague\"\n  }\n}\n```",
      "type": "object",
      "properties": {
        "defaultLocation": {
          "description": "Default location for weather data when geolocation fails.\nCan be a city name, address, or coordinates.",
          "type": "string",
          "default": ""
        },
        "visualCrossingApiKey": {
          "description": "API key for Visual Crossing Weather API.\nGet one at <https://www.visualcrossing.com/>",
          "type": "string",
          "default": ""
        }
      }
    }
  }
}
